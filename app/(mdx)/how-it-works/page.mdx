import { Card, CardContent } from "@/components/ui/card";
import { Alert, AlertDescription } from "@/components/ui/alert";
import Image from "next/image";
import { LowConfidenceStreamers } from "@/components/low-confidence-streamers";

Bazaar Ghost tracks and catalogs Bazaar streams on Twitch to find matchups across thousands of VODs.

## Streamers

**Once a day**, Bazaar Ghost checks Twitch for recent Bazaar streams. If there's a VOD from a new streamer that isn't in the database, that streamer gets added.

#### Note: Some streamers may have fewer results because of low confidence text extraction. This is usually because their camera either partially or fully covers the nameplate region on screen, or there are other UI elements blocking it.

<details>
<summary>View streamers with low average confidence scores</summary>

<LowConfidenceStreamers />

</details>

## VODs

Bazaar Ghost only processes publicly available Twitch VODs.

When there's a VOD by a streamer that Bazaar Ghost hasn't seen before, it checks their backlog for any other Bazaar streams and queues them for processing.

## Username Detection

Matchup screens last 5-6s seconds, which means we only need to check 1 frame out of 5 seconds of video to guarantee that no matchup frames are skipped. Checking every frame of thousands of VODs would be a gargantuan and expensive task--processing ~1% of those frames makes the task a lot more feasible.

<div className=" flex flex-col items-center gap-2">
  <div className="flex flex-col sm:flex-row items-center gap-6">
    <div className="text-center">
      <Image
        src="/nameplate.webp"
        alt="nameplate"
        className="rounded-lg shadow-md"
        width={300}
        height={80}
      />
      <p className="text-sm text-muted-foreground">Original nameplate</p>
    </div>
    <div className="text-center">
      <Image
        src="/ocr_nameplate.webp"
        alt="OCR processed nameplate text"
        className="rounded-lg shadow-md"
        width={200}
        height={60}
      />
      <p className="text-sm text-muted-foreground">OCR extraction</p>
    </div>
  </div>
</div>
After finding a matchup screen, Tesseract (OCR engine) reads text from the
preprocessed nameplate region.

All detected usernames are:

- Stored with timestamps and VOD links
- Indexed for search
- Available only while the source VOD remains public\*

## Confidence Score

The confidence score represents how certain the OCR system is that it correctly read a username. Higher scores mean the text was clear and easy to read, while lower scores suggest the text might have been blurry or partially obscured.

## Working on it

- Real-time or near-real-time matchup detections
- Get notified when your username is detected
- Improved username detection

---

\*VOD availability is updated hourly. It is possible to get search results for unavailable VODs within that one-hour window after a VOD gets delisted.
